$.fn.extend({dragging:function(a){var b,c,d,e,f=$(this),g=f.parent(),h={move:"both",randomPosition:!0,hander:1},i=$.extend({},h,a),j=(i.move,i.randomPosition,i.hander);j=1==j?f:f.find(i.hander),g.css({position:"relative",overflow:"hidden"}),f.css({position:"absolute"}),j.css({cursor:"move"});var k,l,m,n,o=g.width(),p=g.height(),q=f.width()+parseInt(f.css("padding-left"))+parseInt(f.css("padding-right")),r=f.height()+parseInt(f.css("padding-top"))+parseInt(f.css("padding-bottom")),s=!1;j.mousedown(function(a){return g.children().css({zIndex:"0"}),f.css({zIndex:"1"}),s=!0,d=a.pageX,e=a.pageY,k=f.position().left,l=f.position().top,!1}),$(document).mouseup(function(a){s=!1}),$(document).mousemove(function(a){function g(){1==s&&(f.css({left:m,top:n}),m>0&&f.css({left:"0"}),o-q>m&&f.css({left:o-q}),n>0&&f.css({top:"0"}),p-r>n&&f.css({top:p-r}))}b=a.pageX,m=k+b-d,c=a.pageY,n=l+c-e,g()})}});